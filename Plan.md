# План автоматизации

## Перечень автоматизируемых сценариев

### I. Позитивный кейс:
1. Успешная покупка в кредит картой (5555 6666 7777 8888)
- Ввод валидных данных: срок действия, имя, CVC.
- Ожидаемый результат: сообщение "Успешно. Операция одобрена банком".

### II. Негативный кейс
1. Попытка покупки в кредит без заполнения номера карты, ожидание ошибки;
2. Попытка покупки в кредит с заполнением номера карты в количестве 15 цифр;
3. Попытка покупки в кредит с заполнением номера карты с использованием букв;
4. Попытка покупки в кредит с заполнением номера карты с использованием символов;
5. Попытка покупки в кредит без заполнения месяца действия карты;
6. Попытка покупки в кредит с заполнением месяца действия карты в количестве 1 цифры;
7. Попытка покупки в кредит с заполнением месяца действия карты 00;
8. Попытка покупки в кредит с заполнением месяца действия карты 13;
9. Попытка покупки в кредит с заполнением месяца действия карты с использованием букв;
10.  Попытка покупки в кредит с заполнением месяца действия карты с использованием символов;
11.  Попытка покупки в кредит без заполнения года действия карты;
12.  Попытка покупки в кредит с заполнением года действия карты в количестве 1 цифры;
13.  Попытка покупки в кредит с заполнением года действия карты 00;
14.  Попытка покупки в кредит с заполнением года действия карты 24;
15.  Попытка покупки в кредит с заполнением года действия карты с использованием букв;
16.  Попытка покупки в кредит с заполнением года действия карты с использованием символов;
17.  Попытка покупки в кредит с заполнением истекшей датой действия карты (месяц предыдущий, год текущий);
18.  Попытка покупки в кредит без заполнения имя владельца карты;
19.  Попытка покупки в кредит с заполнением имя вадельца карты с использованием цифр;
20.  Попытка покупки в кредит с заполнением имя вадельца карты с использованием букв на киррилице;
21.  Попытка покупки в кредит с заполнением имя вадельца карты с использованием спецсимволов;
22.  Попытка покупки в кредит с заполнением имя вадельца карты в количестве 1 буквы;
23.  Попытка покупки в кредит с заполнением имя вадельца карты с набором маквсимальной длины;
24.  Попытка покупки в кредит без заполнения поля CVC;
25.  Попытка покупки в кредит с заполнением поля CVC в количестве 1 цифры;
26.  Попытка покупки в кредит с заполнением поля CVC с использованием спецсимволов;
27.  Попытка покупки в кредит с заполнением поля CVC с использованием букв.


## Инструменты и обоснование выбора  
1. Selenide - автоматизация UI-тестов. Простота интеграции с JUnit, удобный API для работы с браузером. 
2. JUnit 5 - запуск и управление тестами. Поддержка аннотаций (@Test, @BeforeEach), удобные ассерты. 
3. Gradle - сборка и управление зависимостями.Гибкость, поддержка параллельного запуска тестов.
4. Lombok - упрощение кода (геттеры, сеттеры). Сокращает boilerplate-код.
5. Allure Report - генерация отчетов. Наглядная визуализация результатов тестирования. 
6. Docker (опционально) - запуск тестов в изолированном окружении. Устранение проблем с зависимостями.

## Перечень и описание возможных рисков при автоматизации
1. Изменение UI/селекторов, из-за этого могут сломаться тесты. Для минимизации стоит использовать data-test-id вместо xpath/CSS. 
2. Нестабильность тестов, ложные падения. Для минимизации  можно добавить явные ожидания.
3. Ограничение тестовых данных. Невозможность проверить все кейсы. Поможет использование генерации данных (Faker). 

## Интервальная оценка с учётом рисков в часах
| Этап | Оптимистично | Реалистично | Пессимистично | Риски |
| ---- | ------------ | ----------- | ------------- | ----- |
| Настройка окружения | 2 | 4 | 6 | Проблемы с Docker, зависимостями |
| Написание UI-тестов | 8 | 12 | 16| Изменение селекторов, нестабильность |
| Написание отчётов (Allure) | 2 | 3 | 5 | 	Кастомизация отчётов |
| Итого |	12 |	19 | 27	|

Пояснения:
* Оптимистично: Минимальное время при идеальных условиях.
* Реалистично: Средний срок с учётом мелких доработок.
* Пессимистично: Максимальное время с обработкой рисков.

## План сдачи работ
| Этап | Срок |	Ответственный |	Результат	| Критерии завершения |
| ---- | ---- | ------------- | --------- | ------------------- |
| 1. | Подготовка инфраструктуры |	День 1	| DevOps/QA	- Развернуто тестовое окружение (SUT + БД) | - Настроены Docker-контейнеры -Установлены зависимости (Java, Gradle, браузеры) -Готовность к запуску тестов |
| 2. | Разработка автотестов | Дни 2–5 | QA Automation	- Реализованы все сценарии (UI + API) | -Настроены параметризованные тесты -Подключены тестовые данные (Faker/SQL)	-Покрытие >90% требований |
| 3. | Подготовка отчётности	| День 6 | QA Lead	- Allure-отчёт с графиками | - Описание багов (если есть) - Рекомендации по доработке тестов	Утверждённый отчёт |
| 4. | Финальный отчёт |	День 7 |	Формат свободной формы | - что было запланировано и что реализовано - причины, по которым что-то не было реализовано - сработавшие риски - общий итог по времени: сколько запланировали и сколько потратили с обоснованием расхождения |

